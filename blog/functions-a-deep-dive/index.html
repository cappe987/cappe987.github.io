<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Functions: a deep dive &#183; Casper Andersson</title><meta name=title content="Functions: a deep dive &#183; Casper Andersson"><meta name=description content="Programming functions from a mathematical perspective."><meta name=keywords content="math,programming,computer_science,"><link rel=canonical href=https://casan.se/blog/functions-a-deep-dive/><link type=text/css rel=stylesheet href=/css/main.bundle.min.0fde03143f6751d812e3fcb96ba666ae5d971e8228048ccffb8cd28cfed85545a0699f072731a33db6cb5e683d3f8f97ba1eca745e145fb464451622812c8c95.css integrity="sha512-D94DFD9nUdgS4/y5a6Zmrl2XHoIoBIzP+4zSjP7YVUWgaZ8HJzGjPbbLXmg9P4+Xuh7KdF4UX7RkRRYigSyMlQ=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.911bd9741247c092f3a38757ca26b07e6bf319209e5162bbc5a609bae50fa2ea13b3c09f8f2c3d1cfd66c0b6885f0b2137bb43fee6404db177d90abde3c09547.js integrity="sha512-kRvZdBJHwJLzo4dXyiawfmvzGSCeUWK7xaYJuuUPouoTs8Cfjyw9HP1mwLaIXwshN7tD/uZATbF32Qq948CVRw==" data-copy data-copied></script>
<script src=/js/zoom.min.js></script>
<link rel=icon type=image/svg href=/favicon.svg><link rel=manifest href=/site.webmanifest><meta property="og:title" content="Functions: a deep dive"><meta property="og:description" content="Programming functions from a mathematical perspective."><meta property="og:type" content="article"><meta property="og:url" content="https://casan.se/blog/functions-a-deep-dive/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-07-25T00:00:00+00:00"><meta property="article:modified_time" content="2021-07-25T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Functions: a deep dive"><meta name=twitter:description content="Programming functions from a mathematical perspective."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blog","name":"Functions: a deep dive","headline":"Functions: a deep dive","description":"Programming functions from a mathematical perspective.","abstract":"In this post we will take a closer look at functions and some mathematical concepts relating to them. This post assumes you are familiar working with functions in some programming language and some mathematical knowledge of functions as well (like knowing what \\(y = f(x)\\) means and what a set is).","inLanguage":"en","url":"https:\/\/casan.se\/blog\/functions-a-deep-dive\/","author":{"@type":"Person","name":"Casper Andersson"},"copyrightYear":"2021","dateCreated":"2021-07-25T00:00:00\u002b00:00","datePublished":"2021-07-25T00:00:00\u002b00:00","dateModified":"2021-07-25T00:00:00\u002b00:00","keywords":["math","programming","computer_science"],"mainEntityOfPage":"true","wordCount":"1988"}]</script><meta name=author content="Casper Andersson"><link href=https://github.com/cappe987 rel=me><script src=/lib/jquery/jquery.slim.min.js integrity></script>
<link type=text/css rel=stylesheet href=/lib/katex/katex.min.ee74dae429f16f37d082342b3661d707b6f11935153bf0dc617eaba60b74e8c933334ad55cfdc4602bff3a3c60e47d1d29b63b9656db61aaa07d98e718e01618.css integrity="sha512-7nTa5CnxbzfQgjQrNmHXB7bxGTUVO/DcYX6rpgt06MkzM0rVXP3EYCv/Ojxg5H0dKbY7llbbYaqgfZjnGOAWGA=="><script defer src=/lib/katex/katex.min.6a864286ffbc8a663f5353bb2881d7bcef3b10ecc2b8a3b41a116da43e86d82ca3a3fc4f79381d7f7fdb721075d2207e0288cc4c390c1c33cb28dc4f255a8373.js integrity="sha512-aoZChv+8imY/U1O7KIHXvO87EOzCuKO0GhFtpD6G2Cyjo/xPeTgdf3/bchB10iB+AojMTDkMHDPLKNxPJVqDcw=="></script>
<script defer src=/lib/katex/auto-render.min.8968ae052e67b7aafad1f0b3dba35dd19a9ed276e4d594c841b9772afee462c5fec8a314147ce3687dbe02733abe9d97b3e80d99a0405562634a6b8fc3be847e.js integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" onload=renderMathInElement(document.body)></script><meta name=theme-color></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 pl-[24px] pr-[24px]" style=z-index:100><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div><div class="relative max-w-[64rem] ml-auto mr-auto"><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div><a href=/ class=flex><span class=sr-only>Casper Andersson</span>
<img src=/img/ghost.png width=245 height=245 class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="Casper Andersson"></a></div><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">Casper Andersson</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12"><a href=/blog/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Blog>Blog</p></a><a href=/docs/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Documentation>Docs</p></a><a href=/tags/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Tags>Tags</p></a><a href=/about/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title="About Me">About Me</p></a></nav><div class="flex md:hidden items-center space-x-5 md:ml-12"><span></span></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-auto overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/blog/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Blog>Blog</p></a></li><li class=mt-1><a href=/docs/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Documentation>Docs</p></a></li><li class=mt-1><a href=/tags/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Tags>Tags</p></a></li><li class=mt-1><a href=/about/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title="About Me">About Me</p></a></li></ul></div></label></div></div></div></div><script>window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=document.getElementById("menu-blur");n.style.opacity=t/300})</script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom" style=background-image:url(/img/bg6_hu917d3663dd0ee4c1b9afd519cbf0a754_418075_1200x0_resize_q75_box.jpg)><div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal"></div><div class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal"></div></div><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>Casper Andersson</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/blog/>Blog</a><span class="px-1 text-primary-500">/</span></li><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/blog/functions-a-deep-dive/>Functions: a deep dive</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Functions: a deep dive</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2021-07-25 00:00:00 +0000 UTC">25 July 2021</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">10 mins</span></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/math/","_self")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">math</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/programming/","_self")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">programming</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/computer_science/","_self")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">computer_science</span></span></span></div></div><div class=flex><img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width=96 height=96 alt="Casper Andersson" src=/img/ghost_hua467e0f5394043115cc2fd743cdf1bb4_14575_192x192_fill_box_center_3.png><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Casper Andersson</div><div class="text-sm text-neutral-700 dark:text-neutral-400">I&rsquo;m a software developer</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/cappe987 target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first sm:max-w-prose lg:ml-auto px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#terminology-and-notation>Terminology and notation</a></li><li><a href=#determinism-and-the-definition-of-a-function>Determinism and the definition of a function</a></li><li><a href=#injective-surjective-and-bijective>Injective, surjective, and bijective</a></li><li><a href=#chaining-functions>Chaining functions</a></li><li><a href=#other-types-of-mappings>Other types of mappings</a></li></ul></nav></div></details><details class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#terminology-and-notation>Terminology and notation</a></li><li><a href=#determinism-and-the-definition-of-a-function>Determinism and the definition of a function</a></li><li><a href=#injective-surjective-and-bijective>Injective, surjective, and bijective</a></li><li><a href=#chaining-functions>Chaining functions</a></li><li><a href=#other-types-of-mappings>Other types of mappings</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><p>In this post we will take a closer look at functions and some mathematical
concepts relating to them. This post assumes you are familiar working with
functions in some programming language and some mathematical knowledge of
functions as well (like knowing what \(y = f(x)\) means and what a set is).</p><div id=terminology-and-notation class=anchor></div><h2 class="relative group">Terminology and notation
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#terminology-and-notation aria-label=Anchor>#</a></span></h2><p>Before getting into the main topic I want to cover some terminology and
notation. Sets are denoted as an uppercase letter in math-style font like
\(A\). When I say that an element <strong>maps</strong> to another it is simply a way of
saying that some element \(x\), when given as argument to \(f\) will return an
element \(y\), or as an equation \(y = f(x)\), \(x\) maps to \(y\). A
<strong>transformation</strong> from \(x\) to \(y\). A function/mapping is simply a
transformation from one thing to another. One goes in, another goes out.</p><p>It is also good to know the mathematical notation for the types of a function.
\(f : A \rightarrow B\) represents a function \(f\) that takes a single
argument of type \(A\) and returns a value of type \(B\). To be more accurate,
\(A\) and \(B\) aren&rsquo;t types, but rather a set of possible values that can be
input/output. But in the world of programming we often represent them as types
like <code>int</code>, <code>string</code>, <code>float</code>, or similar. For example, the \(log\) function
could be written as \(log : \mathbb{R}^+ \rightarrow \mathbb{R}\), which means
all positive real numbers as input and all real numbers as output. Although in
the programming world it would instead be written as \(log : \text{float}
\rightarrow \text{float}\). \(A\) is called the <strong>domain</strong>. \(B\) is called the
<strong>codomain</strong>. If we want to be more exact we use the term <strong>range</strong> to indicate
all possible values that \(f\) can return. Which means that the range is a
subset of the codomain. For example, for the function \(f(x) = x^2\) we can say
it has the codomain \(\mathbb{R}\), but if you inspect the function you will
see that the range is only \(\mathbb{R}^+\), only the positive real numbers
since the function can never return any negative numbers.</p><div id=determinism-and-the-definition-of-a-function class=anchor></div><h2 class="relative group">Determinism and the definition of a function
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#determinism-and-the-definition-of-a-function aria-label=Anchor>#</a></span></h2><p>Going strictly by the mathematical definition we don&rsquo;t have any reference types
(pointers) and no <code>void</code> functions. A function must always return a value for
any element that is in its domain. Exceptions like values that will cause
division by zero or other undefined computations will not be in that domain and
are expected to not be put into the function. To be able to make any useful
arguments regarding a function we must also require it to be <strong>pure</strong>.</p><p>The concept of pure functions only exist in the programming world, because in
the world of math every function is pure. A pure function is one where the the
return value only depends on the arguments. There cannot be any side effects.
The function cannot print or write any values to external memory, and cannot
read any values from the outside. These are what we call side-effects,
inputs/outputs that are not the function arguments and return value. If we
allow side-effects then the function becomes inherently non-deterministic,
unpredictable. From here on when I say input I mean the arguments and output
means return value. The simplest pure function we can have is the &ldquo;constant
function&rdquo;. It takes 0 arguments and returns the same value every time it is
called. Since we can&rsquo;t have any side-effects that is all a function with no
input can do. Below is an example of a constant function (written in Python).
As you can see, if we don&rsquo;t have any arguments there is no data to work with if
we aren&rsquo;t allowed side-effects.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=k>def</span> <span class=nf>pi</span><span class=p>():</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mf>3.14159265359</span>
</span></span></code></pre></div><p>This may seem restricting, but determinism in itself is a very useful property
for a function. The same input will always give the same output. It&rsquo;s very easy
to test as it doesn&rsquo;t depend on any state, which also makes it easier to debug.
If you have some logical mistake in a deterministic function then all you need
to do is find the mistake inside that function (assuming the input is correct,
otherwise the issue is elsewhere). If it is non-deterministic function then you
may need to look at all state that it is working with to find what goes wrong.
You may need to debug much more outside of the function in question to find
what leads to the invalid state.</p><p>If you don&rsquo;t care about the formal definition then just skip to the next
section. A formal definition is that a function \(f : A \rightarrow B\) maps
every element in a set \(A\) to some element in a set \(B\), and each
element in \(A\) can only map to a single element in \(B\). This means that
for any value \(x \in A\), \(f(x)\) must always be the same value. Or
expressed as a logical statement below: if \(f(x)\) returns two values
\(y_1\) and \(y_2\) from the same \(x\) then \(y_1 = y_2\).</p><p>\( \forall x. x \in A. y_1 = f(x) \wedge y_2 = f(x) \implies y_1 = y_2 \)</p><p>If the return values were different then that would contradict the definition
of a function and it would also break the purity and determinism. If \(y_1\)
and \(y_2\) are different for the same \(x\) then the function obviously has
side-effects.</p><div id=injective-surjective-and-bijective class=anchor></div><h2 class="relative group">Injective, surjective, and bijective
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#injective-surjective-and-bijective aria-label=Anchor>#</a></span></h2><p>An injective function is a function \(f : A \rightarrow B\) where no two
elements in \(A\) returns the same element in \(B\). This is a function that is
reversible because each value in the range has only one corresponding value in
the domain. But that is only true for the range. Every value \(y = f(x)\) can
be reversed to get back \(x\), but not every value in the codomain. The
codomain may be a superset of the range, so there may be elements in the
codomain that do not have any corresponding element in the domain. Some
properties that derive from this is that the sets of the domain and range must
be the same size, and the codomain must be equal or greater than the domain.</p><p>A surjective function is the opposite of an injective. All elements in the
codomain must be return values of some input to \(f\). Which means that the
range = codomain. But the domain can be larger than the codomain since multiple
elements of \(A\) can map to the same element of \(B\). There is no guarantee
that the elements in \(B\) can be reversed since there may be several values of
\(A\) that can give that output.</p><p>Bijective functions are functions that are both injective and surjective. When
we put those two together we get a function that is a one-to-one mapping
between the domain and codomain. It is always reversible in both directions and
you can always create an inverse function that gives back the original (usually
denoted \(f^{-1}\), where \(f^{-1}(f(x)) = x\)). Inverse operations can be
useful when you want to undo something you have previously done or when you
need to find out what the original was. For example, addition and subtraction
are inverses. If we have \(f(x) = x + 5\) then the inverse of that is
\(f^{-1}(x) = x - 5\).</p><p>While bijective functions have a clear use-case of inverse operations,
injective and surjective functions may be harder to find a good use for.
Although it can be something to keep in mind when programming as they have some
unique properties which you may be able to use for something.</p><div id=chaining-functions class=anchor></div><h2 class="relative group">Chaining functions
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#chaining-functions aria-label=Anchor>#</a></span></h2><p>When we have functions that always return values and have well-defined domains
and codomains then we can easily chain them. This is called function
composition. In mathematical notation it looks like this \( g \circ f\), which
simply means \(g(f(x))\). But to do this the functions must have matching
domains and codomains. If \(f : A \rightarrow B\) then we must have \(g : B
\rightarrow C\) to be able to chain them. So if \(h = g \circ f\) then \(h : A
\rightarrow C\) since it performs both \(f\) and \(g\). Composing functions
like this is very good for creating a long pipeline of transformations. And if
we stick to using deterministic functions then it becomes very clean looking
code and the different components get separated into distinct parts where one
returns what the next needs. When chaining functions it is important to keep
track on the domain and range of your functions. If \(g\) can return a value
that \(f\) cannot take as input then you have a problem.</p><p>The concept of chaining can be applied on reference types as well. It requires
every method to return <code>self</code> or <code>this</code> or whatever your language calls the
reference an object has to itself. So you could call methods like
<code>x.f().g().h()</code> and so on, where each method modifies the internal structure as
if those were the arguments. This is commonly seen in the builder pattern (C#
example below). The non-object-oriented equivalent of that is <code>h(g(f(x)))</code>,
where <code>x</code> could just as well just be an object that holds some variables. The
problem with determinism and purity in object oriented programming comes when a
method both modifies the internal state and returns a separate value. Because
at that point it has changed some state that is separate from the return value.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>HumanBuilder</span> <span class=n>builder</span> <span class=p>=</span> <span class=k>new</span> <span class=n>HumanBuilder</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>Human</span> <span class=n>human</span> <span class=p>=</span> <span class=n>builder</span><span class=p>.</span><span class=n>AddHead</span><span class=p>().</span><span class=n>AddBody</span><span class=p>().</span><span class=n>AddArms</span><span class=p>().</span><span class=n>AddLegs</span><span class=p>().</span><span class=n>Build</span><span class=p>();</span>
</span></span></code></pre></div><p>There is nothing wrong with non-deterministic functions. Non-determinism is
required to make any interesting program. And a lot of object oriented
programming revolves around changing state. It just takes a different approach
than the mathematical side. Although I do encourage you to write as much
deterministic code as possible.</p><div id=other-types-of-mappings class=anchor></div><h2 class="relative group">Other types of mappings
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#other-types-of-mappings aria-label=Anchor>#</a></span></h2><p>Dictionaries, HashMaps, HashDictionaries, and the like are all mappings from
one set to another. The key is the input and the value is the output. And as
long as you don&rsquo;t modify them they are deterministic. Although modifying them
are often a key feature of using them. They may not be considered functions,
but they are definitely relations, a superset of functions. A relation is just
a mapping from one element to another, often denoted (1,2) when 1 maps to 2 (in
function notation: \(2 = f(1)\)). Although relations are often represented as
whole sets of mappings to indicate all possible relations like \({(1,2),
(2,3), (3,4), (4,5)}\) to indicate a subset of the function \(f(x) = x + 1\)
for integers.</p><p>Switch statements are also a type of mapping, and a function, from some
variable value to a block of code. If that block of code is just a function
that returns its value then you have a mapping from a value to a function (C#
example below).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=n>x</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=m>1</span> <span class=p>:</span> <span class=k>return</span> <span class=n>f</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=m>2</span> <span class=p>:</span> <span class=k>return</span> <span class=n>g</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=p>:</span> <span class=k>return</span> <span class=n>h</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Everything stated here extends easily to functions with multiple arguments or
multiple return values, usually denoted as tuples. Although deciding if such
functions are injective or surjective may become much harder. The notation for
such a function is \(f : A \times B \rightarrow C \times D\), where \(A \times
B\) means the Cartesian product of the sets \(A\) and \(B\). Meaning all
possible combinations of the elements of the two sets. When you have multiple
arguments the domain increases a whole lot in size, since now every element in
\(A\) can be paired with every element in \(B\). The total domain size becomes
\(\vert A \vert \times \vert B \vert\) (size of \(A\) multiplied by size of
\(B\)).</p><p>Functions and relations are everywhere in programming. In places you never
considered before. Even your browser is a mapping that takes a URL and returns
a webpage. Keep an eye out for them and see if you can use that knowledge to
write cleaner and better code, and maybe catch some bugs.</p></br></br></div><script>var oid="views_blog/math/2021-07-25-functions-deep-dive.md",oid_likes="likes_blog/math/2021-07-25-functions-deep-dive.md"</script><script type=text/javascript src=/js/page.min.0e49973b4ad0a382c7c6012d8bff8226316642daabc4f8a20477bd08674f3da6e2fa993bc20ad4f51e7c5bb68e6f913a207a7c4fe37ea0e7b806894afce0a64e.js integrity="sha512-DkmXO0rQo4LHxgEti/+CJjFmQtqrxPiiBHe9CGdPPabi+pk7wgrU9R58W7aOb5E6IHp8T+N+oOe4BolK/OCmTg=="></script></section><footer class="pt-8 max-w-prose print:hidden"></footer></article></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2023
Casper Andersson</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.35c1113bcc16c5a59bf031082f9e63822aa95280423881a7847a7ff33a16e6299ce6a840d9ef4e10d947e030a18f3f20359afb2ec0f35967484b9a9360ac3145.js integrity="sha512-NcERO8wWxaWb8DEIL55jgiqpUoBCOIGnhHp/8zoW5imc5qhA2e9OENlH4DChjz8gNZr7LsDzWWdIS5qTYKwxRQ=="></script></footer></div></body></html>