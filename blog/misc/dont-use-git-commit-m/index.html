<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Don't use 'git commit -m' | Casper Andersson</title>
<meta name=keywords content="misc"><meta name=description content=" Commit messages should be detailed and carefully written. Take your time. "><meta name=author content><link rel=canonical href=https://casan.se/blog/misc/dont-use-git-commit-m/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script src=/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=stylesheet href=/css/default.min.css><link rel=icon href=https://casan.se/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://casan.se/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://casan.se/favicon-32x32.png><link rel=apple-touch-icon href=https://casan.se/apple-touch-icon.png><link rel=mask-icon href=https://casan.se/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://casan.se/blog/misc/dont-use-git-commit-m/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Don't use 'git commit -m'"><meta property="og:description" content=" Commit messages should be detailed and carefully written. Take your time. "><meta property="og:type" content="article"><meta property="og:url" content="https://casan.se/blog/misc/dont-use-git-commit-m/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-07-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-15T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Don't use 'git commit -m'"><meta name=twitter:description content=" Commit messages should be detailed and carefully written. Take your time. "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"https://casan.se/blog/"},{"@type":"ListItem","position":2,"name":"Misc","item":"https://casan.se/blog/misc/"},{"@type":"ListItem","position":3,"name":"Don't use 'git commit -m'","item":"https://casan.se/blog/misc/dont-use-git-commit-m/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Don't use 'git commit -m'","name":"Don\u0027t use \u0027git commit -m\u0027","description":" Commit messages should be detailed and carefully written. Take your time. ","keywords":["misc"],"articleBody":"I often see git commit -m \"My commit\" as a beginner example of how to create commits. It is a simple way to quickly create a commit with a short explanation. My issue with it is that it teaches you to write short commit messages. You only fit so much in the terminal before it starts wrapping around and getting hard to work with, and you can’t do any proper formatting. Granted, there may be cases where a short text is enough to explain the commit. I, however, don’t believe this should be your default approach.\nA good commit explains why something was done and why it was done in that particular way. Looking at the Git history, git log and git blame, is essential in any large codebase. It sucks looking at a commit that introduced some change and all it says is “Changed X to Y because Z”. Why did Z require this change? Was Z a bug? If so, what caused the bug in X and how did it manifest? What benefits does Y have? New features may need to contain some general information on what the commit as a whole does.\nUsing your editor When not using -m Git defaults to using an editor to open it as a file. The editor to use is defined in your .gitconfig file\n[core] editor = nvim or simply through git config --global core.editor nvim. Replace nvim with whatever editor you wish to use.\nThe editor opens it as a file where you write the commit message. When you are done, save the file and close it. This causes the commit to finish.\nThe benefits of editors Using your editor allows you to carefully think through your commit message before saving and closing it. But the main benefit is that it can be formatted into title/body texts. On top of that, it can also be used to add lists or ASCII art to explain the commit. As an example, I’m going to use a commit I recently made to an open source project.\nptp: Parse major and minor version correctly In IEEE1588-2008, the lower 4 bits of the field were defined as the PTP version, and the upper 4 bits were marked as reserved. As of the 2019 version the upper 4 bits are defined as PTP minor version. Previously, the whole byte was assumed to be the version by Tcpdump, resulting in PTP v2.1 being parsed as v18 and not printing the rest of the information. With this commit the version is parsed correctly and the packet is displayed as v2. By leaving an empty line before the second paragraph it creates the separation of title/body. The first line becomes the title, the rest becomes the body. When viewing in short form (e.g. on GitHub commit history) it only shows the title and you have to click the three dots to expand the body. And if the title is too long it gets truncated and the rest ends up in the body anyways. To make it easy to browse keep your title concise at a maximum of 80 characters so the whole title is shown. Most editors show the column number of your cursor somewhere on the screen (usually at the bottom).\nIn the title, I give a short explanation of what the commit does. In the body, I give a longer explanation of why this happened, what the resulting bug was, and why my change is what it is. For general examples of good commit messages, I refer you to the Linux kernel. They have a high standard on commits that are accepted, and rightly so due to the immense size of the codebase and the rate at which it changes.\nAs for how it looks on GitHub, here is both the title-only view and the full commit view.\nAs a final note, I would like to add that, though I always write my commits in my editor, I am nowhere near as rigorous as the above example when it comes to my personal projects. But as a project becomes larger and more serious the Git history needs to be taken more seriously as well. Have the mindset right from the beginning, and you will be able to do it properly when needed.\n","wordCount":"716","inLanguage":"en","datePublished":"2023-07-15T00:00:00Z","dateModified":"2023-07-15T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://casan.se/blog/misc/dont-use-git-commit-m/"},"publisher":{"@type":"Organization","name":"Casper Andersson","logo":{"@type":"ImageObject","url":"https://casan.se/favicon.svg"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://casan.se/ accesskey=h title="Casper Andersson (Alt + H)">Casper Andersson</a><div class=logo-switches><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://casan.se/blog title=Blog><span>Blog</span></a></li><li><a href=https://casan.se/docs title=Docs><span>Docs</span></a></li><li><a href=https://casan.se/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://casan.se/about/ title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://casan.se/>Home</a>&nbsp;»&nbsp;<a href=https://casan.se/blog/>Blog</a>&nbsp;»&nbsp;<a href=https://casan.se/blog/misc/>Misc</a></div><h1 class=post-title>Don't use 'git commit -m'</h1><div class=post-meta><span title='2023-07-15 00:00:00 +0000 UTC'>July 15, 2023</span>&nbsp;·&nbsp;4 min</div><ul class=post-tags><li><a href=https://casan.se/tags/misc/>Misc</a></li></ul></header><div class=post-content><p>I often see <code>git commit -m "My commit"</code> as a beginner example of how to create
commits. It is a simple way to quickly create a commit with a short
explanation. My issue with it is that it teaches you to write short commit
messages. You only fit so much in the terminal before it starts wrapping around
and getting hard to work with, and you can&rsquo;t do any proper formatting. Granted,
there may be cases where a short text is enough to explain the commit. I,
however, don&rsquo;t believe this should be your default approach.</p><p>A good commit explains why something was done and why it was done in that
particular way. Looking at the Git history, <code>git log</code> and <code>git blame</code>, is
essential in any large codebase. It sucks looking at a commit that introduced
some change and all it says is &ldquo;Changed X to Y because Z&rdquo;. Why did Z require
this change? Was Z a bug? If so, what caused the bug in X and how did it
manifest? What benefits does Y have? New features may need to contain some
general information on what the commit as a whole does.</p><h2 id=using-your-editor>Using your editor<a hidden class=anchor aria-hidden=true href=#using-your-editor>#</a></h2><p>When not using <code>-m</code> Git defaults to using an editor to open it as a file. The
editor to use is defined in your <code>.gitconfig</code> file</p><pre tabindex=0><code>[core]
	editor = nvim
</code></pre><p>or simply through <code>git config --global core.editor nvim</code>. Replace <code>nvim</code> with
whatever editor you wish to use.</p><p>The editor opens it as a file where you write the commit message. When you are
done, save the file and close it. This causes the commit to finish.</p><h2 id=the-benefits-of-editors>The benefits of editors<a hidden class=anchor aria-hidden=true href=#the-benefits-of-editors>#</a></h2><p>Using your editor allows you to carefully think through your commit message
before saving and closing it. But the main benefit is that it can be formatted
into title/body texts. On top of that, it can also be used to add lists or
ASCII art to explain the commit. As an example, I&rsquo;m going to use a commit I
recently made to an open source project.</p><pre tabindex=0><code class=language-no-hl data-lang=no-hl>ptp: Parse major and minor version correctly

In IEEE1588-2008, the lower 4 bits of the field were defined as the PTP
version, and the upper 4 bits were marked as reserved. As of the 2019
version the upper 4 bits are defined as PTP minor version. Previously,
the whole byte was assumed to be the version by Tcpdump, resulting in
PTP v2.1 being parsed as v18 and not printing the rest of the
information.

With this commit the version is parsed correctly and the packet is
displayed as v2.
</code></pre><p>By leaving an empty line before the second paragraph it creates the separation
of title/body. The first line becomes the title, the rest becomes the body. When
viewing in short form (e.g. on GitHub commit history) it only shows the title
and you have to click the three dots to expand the body. And if the title is too
long it gets truncated and the rest ends up in the body anyways. To make it easy
to browse keep your title concise at a maximum of 80 characters so the whole
title is shown. Most editors show the column number of your cursor somewhere on
the screen (usually at the bottom).</p><p>In the title, I give a short explanation of what the commit does. In the body, I
give a longer explanation of why this happened, what the resulting bug was, and
why my change is what it is. For general examples of good commit messages, I
refer you to the Linux kernel. They have a high standard on commits that are
accepted, and rightly so due to the immense size of the codebase and the rate
at which it changes.</p><p>As for how it looks on GitHub, here is both the title-only view and the full
commit view.</p><p><img loading=lazy src=/img/commit_title.png alt="GitHub title only">
<img loading=lazy src=/img/commit_body.png alt="GitHub full commit"></p><p>As a final note, I would like to add that, though I always write my commits in
my editor, I am nowhere near as rigorous as the above example when it comes to
my personal projects. But as a project becomes larger and more serious the Git
history needs to be taken more seriously as well. Have the mindset right from
the beginning, and you will be able to do it properly when needed.</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://casan.se/>Casper Andersson</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>